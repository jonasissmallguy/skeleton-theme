<section class="collection-feature" style="background-color: {{ section.settings.bg_color }}">
  <div class="collection-feature__wrapper">
    <div class="collection-feature__text">
      <h2>{{ section.settings.heading }}</h2>
      <p>{{ section.settings.text }}</p>
      <a href="{{ section.settings.button_url }}" class="collection-feature__button">
        {{ section.settings.button_label }}
      </a>
    </div>

    <div class="collection-feature__media">
      {% if section.settings.video != blank %}
        {{ section.settings.video | video_tag: autoplay: true, loop: true, muted: true, controls: false }}
      {% elsif section.settings.image != blank %}
        <img
          src="{{ section.settings.image | image_url: width: 688 }}"
          alt="Feature media"
          class="collection-feature__image"
        />
      {% endif %}
    </div>
  </div>
</section>

{% stylesheet %}

.collection-feature {
  width: 100vw; /* full viewport width */
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  height: 1103.200px;
  display: flex;
  align-items: stretch;
  justify-content: center;
  box-sizing: border-box;
}

.collection-feature__wrapper {
  display: flex;
  width: 100%;
  height: 100%;
}

.collection-feature__text {
  flex: 1;
  padding: 3rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  color: black;
  box-sizing: border-box;
}

.collection-feature__text h2 {
  font-size: 2.4rem;
  margin-bottom: 1rem;
}

.collection-feature__text p {
  font-size: 1.1rem;
  margin-bottom: 2rem;
  max-width: 80%;
}

.collection-feature__button {
  background-color: black;
  color: white;
  padding: 0.75rem 1.5rem;
  text-decoration: none;
  border-radius: 4px;
  width: fit-content;
}

.collection-feature__media {
  width: 688px;
  height: 860.27px;
  overflow: hidden;
}

.collection-feature__image,
.collection-feature__media video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
{% endstylesheet %}

{% schema %}
{
  "name": "Collection Feature",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#f7f7f7"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Shop the New Collection"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Description text"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Explore Now"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button link"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image (optional)"
    },
    {
      "type": "video",
      "id": "video",
      "label": "Video (optional)"
    }
  ],
  "presets": [
    {
      "name": "Collection Feature"
    }
  ]
}
{% endschema %}
